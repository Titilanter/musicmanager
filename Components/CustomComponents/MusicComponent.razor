@using MusicManager.Data.ORM
@inject NavigationManager Navigation

<MudPaper Width="95%" Height="70px" Class="d-flex ml-4 pl-4" Outlined="true" @onclick="GoToMusic">
    <MudText Class="align-self-center mr-4">@song.order</MudText>
    <MudImage Src="@album.coverUri" Style="heigth:60px; width:60px;" Class="m-2"/>
    <MudText Class="align-self-center ml-4 mr-4" Style="Width:15%;">@song.nom</MudText>
    <AudioListener Width="50%"/>
    <MudText Class="align-self-center mr-10">3:12</MudText>
    <MudText Class="align-self-center ml-4">Feat. Tifred</MudText>
    <MudToggleIconButton @bind-Toggled="SongFinished"
                        Icon="@Icons.Material.Rounded.Construction"
                        Color="@Color.Warning"
                        ToggledIcon="@Icons.Material.Rounded.Check"
                        ToggledColor="@Color.Success"
                        title="@(SongFinished ? "Yes" : "No")" />
    <MudButton Style="width:150px; height:50px;" Variant="Variant.Filled" Class="align-self-center mr-4" @onclick="GoToClip">Clip</MudButton>
    <MudIconButton Icon="@Icons.Material.Rounded.Menu" Class="mr-4" @onclick="DragAndDrop"/>
</MudPaper>


@code{
    [Parameter]
    public Song song {get; set;}

    [Parameter]
    public Album album {get; set;}
    private bool SongFinished {get; set;}
    private void GoToMusic(){
        Navigation.NavigateTo("/song/" + song.idSong);
    }

    private void GoToClip(){
        Console.WriteLine("Clip");
    }

    private void DragAndDrop(){
        Console.WriteLine("DragAndDrop");
    }
}